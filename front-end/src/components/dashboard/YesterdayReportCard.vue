<template>
  <div class="card">
    <div class="card-header">
      <div>
        <div class="card-title">ì „ë‚  ë¶„ì„ ë¦¬í¬íŠ¸</div>
        <div class="card-sub">{{ report?.date || "-" }}</div>
      </div>

      <button class="ghost-btn" @click="$emit('open')">
        ìƒì„¸
      </button>
    </div>

    <div class="divider"></div>

    <div class="report-text" v-if="report">
      <div class="report-tag">
        <span>ğŸ“Š</span>
        <span>{{ report.tag }}</span>
      </div>

      <p class="report-summary">
        {{ report.summary }}
      </p>

      <ul class="bullet">
        <li v-for="(b, i) in report.bullets" :key="i">{{ b }}</li>
      </ul>

      <div class="mini-stats">
        <div class="mini-stat" v-for="(s, i) in report.stats" :key="i">
          <div class="k">{{ s.label }}</div>
          <div class="v" :class="s.tone">{{ s.value }}</div>
        </div>
      </div>

      <div class="stat-highlight" v-if="report.todayFocus">
        ì˜¤ëŠ˜ì˜ í•µì‹¬: <span>{{ report.todayFocus }}</span>
      </div>
    </div>

    <div class="report-text" v-else>
      ì „ë‚  ë¦¬í¬íŠ¸ë¥¼ ë¶ˆëŸ¬ì˜¤ëŠ” ì¤‘â€¦
    </div>
  </div>
</template>

<script setup>
defineProps({
  report: { type: Object, default: null }
});
defineEmits(["open"]);
</script>

<style scoped>
/* mockup.html í†¤ê³¼ ë§ì¶”ëŠ” ìµœì†Œ ë³´ê°• (ê¸°ì¡´ card/divider/report-text í´ë˜ìŠ¤ê°€ ìˆë‹¤ë©´ ìƒëµ ê°€ëŠ¥) */
.ghost-btn{
  border: 1px solid rgba(148,163,184,0.6);
  background: transparent;
  color: #e5e7eb;
  font-size: 12px;
  padding: 6px 10px;
  border-radius: 999px;
  cursor: pointer;
}
.report-summary{ margin: 6px 0 8px; line-height: 1.5; }
.bullet{ margin: 6px 0 10px; padding-left: 16px; color:#cbd5f5; font-size:12px; }
.bullet li{ margin: 4px 0; }
.mini-stats{
  display:grid;
  grid-template-columns: repeat(2, minmax(0,1fr));
  gap: 6px;
  margin-top: 6px;
}
.mini-stat{
  padding: 6px 8px;
  border-radius: 10px;
  background: rgba(15, 23, 42, 0.9);
  border: 1px solid rgba(55, 65, 81, 0.9);
}
.k{ font-size: 11px; color:#9ca3af; }
.v{ font-weight: 600; color:#e5e7eb; }
.v.pos{ color:#4ade80; }
.v.neg{ color:#fecaca; }
</style>
